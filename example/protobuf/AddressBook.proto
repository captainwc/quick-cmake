syntax = "proto3";

package tutorial.book;

message Person {
  string          name  = 1;
  int32           id    = 2;
  optional string email = 3;

  enum PhoneType {
    MOBILE = 0;
    HOME   = 1;
    WORK   = 2;
  }

  message PhoneNumber {
    string             number = 1;
    optional PhoneType type   = 2;
  }

  repeated PhoneNumber phone = 4;

  oneof random_attr {
    PhoneNumber rd_phone_number = 5;
    PhoneType   rd_phone_type   = 6;
  }
}

message AddressBook {
  repeated Person person = 1;
}
